# https://github.com/DreamMaoMao/mango/wiki/
# vim:ft=ini

env = QT_QPA_PLATFORMTHEME, gtk3

#             name      mfact nmaster layout         rotate scale x     y    width height refreshrate
monitorrule = HDMI-A-1, 0.55, 1,      vertical_tile, 1,     1,    0,    0,   1920, 1080,  60
monitorrule = DP-1,     0.50, 1,      tile,          0,     1,    1080, 250, 2560, 1440,  165

# Window effects
blur = 5
blur_layer = 0
blur_optimized = 1
blur_params_num_passes = 2
blur_params_radius = 5
blur_params_noise = 0.02
blur_params_brightness = 0.9
blur_params_contrast = 0.9
blur_params_saturation = 1.2

shadows = 0
border_radius = 4
no_radius_when_single = 1
focused_opacity = 1.0
unfocused_opacity = 0.95

# Animations (supports types: zoom, slide)
# tag_animation_direction: horizontal (0), vertical (1)
animations = 1
layer_animations = 1
animation_type_open = slide
animation_type_close = slide
animation_fade_in = 1
animation_fade_out = 1
tag_animation_direction = 1
zoom_initial_ratio = 0.3
zoom_end_ratio = 0.8
fadein_begin_opacity = 0.5
fadeout_begin_opacity = 0.8
animation_duration_move = 300
animation_duration_open = 300
animation_duration_tag = 300
animation_duration_close = 350
animation_duration_focus = 0
animation_curve_open = 0.46, 1.0, 0.29, 1
animation_curve_move = 0.46, 1.0, 0.29, 1
animation_curve_tag  = 0.46, 1.0, 0.29, 1
animation_curve_close = 0.08, 0.92, 0, 1
animation_curve_focus = 0.46, 1.0, 0.29, 1

# Scroller Layout Settings
scroller_structs = 25
scroller_default_proportion = 0.8
scroller_focus_center = 0
scroller_prefer_center = 0
edge_scroller_pointer_focus = 0
scroller_default_proportion_single = 1.0
scroller_proportion_preset = 0.5, 0.8, 1.0

# Master-Stack Layout Settings
new_is_master = 0
default_mfact = 0.55
default_nmaster = 1
smartgaps = 1

# Overview Settings
enable_hotarea = 0
ov_tab_mode = 1
overviewgappi = 5
overviewgappo = 30

# Misc
no_border_when_single = 1
axis_bind_apply_timeout = 100
focus_on_activate = 1
inhibit_regardless_of_visibility = 0
sloppyfocus = 1
warpcursor = 1
focus_cross_monitor = 1
exchange_cross_monitor = 1
focus_cross_tag = 0
enable_floating_snap = 0
cursor_size = 24
drag_tile_to_tile = 1

# keyboard
repeat_rate = 25
repeat_delay = 600
numlockon = 0
xkb_rules_layout = us

# Trackpad, needs re-login to apply
disable_trackpad = 0
tap_to_click = 1
tap_and_drag = 1
drag_lock = 1
trackpad_natural_scrolling = 1
disable_while_typing = 1
left_handed = 0
middle_button_emulation = 0
swipe_min_threshold = 1

# Mouse, needs re-login to apply
mouse_natural_scrolling = 0

# Appearance
# i: inner, o: outer, h: horizontal, v: vertical
gappih = 3
gappiv = 3
gappoh = 5
gappov = 5
scratchpad_width_ratio = 0.8
scratchpad_height_ratio = 0.9
borderpx = 2
rootcolor = 0x201b14ff
bordercolor = 0x444b6aaa
focuscolor = 0x7da6ffee
maximizescreencolor = 0x89aa61ff
urgentcolor = 0xad401fff
scratchpadcolor = 0x516c93ff
globalcolor = 0xb153a7ff
overlaycolor = 0x14a57cff

# Layouts:
# tile, scroller, grid, deck, monocle, center_tile, vertical_tile, vertical_scroller
# tagrule = id:1, layout_name:tile

### Key Bindings ###
# Refer to `xev` or `wev` output for key names
# Mod key names: super, ctrl, alt, shift, none

bind = Super, R, spawn_shell, mmsg -d reload_config && pkill -SIGUSR2 waybar
bind = Super, Q, killclient
bind = Super+Shift, Q, quit

# Menus
bind = Alt, space, spawn, rofi -show drun
bind = Super, P, spawn, power.sh
bind = Super, O, spawn, otp.sh

# Applications
bind = Super, Return, spawn, foot
bind = Super, Y, spawn, $TERMINAL -e yazi
bind = Super, B, spawn, gtk-launch helium-browser
bind = Super, E, spawn, pcmanfm

# Switch window focus
bind = Super, Tab, focusstack, next
bind = Super+Shift, Tab, focusstack, prev
bind = Super, Left, focusdir, left
bind = Super, Right, focusdir, right
bind = Super, Up, focusdir, up
bind = Super, Down, focusdir, down

# Swap window
bind = Super+Shift, Up,    exchange_client, up
bind = Super+Shift, Down,  exchange_client, down
bind = Super+Shift, Left,  exchange_client, left
bind = Super+Shift, Right, exchange_client, right

# Switch window status
bind = Alt, Tab, toggleoverview
bind = Super, G, toggleglobal
bind = Super, T, togglefloating
bind = Super, M, togglemaximizescreen
bind = Super, Z, toggle_scratchpad
bind = Super, F, togglefullscreen
bind = Super+Shift, F, togglefakefullscreen

# scroller layout
bind = Super, E, set_proportion, 1.0
bind = Super, X, switch_proportion_preset

# Switch layout
bind = Super, L, switch_layout

# Tag switch, last arg syncs across monitors if set to 1
bind = Super,       comma,  viewtoleft,              0
bind = Super+Shift, comma,  viewtoleft_have_client,  0
bind = Super+Ctrl,  comma,  tagtoleft,               0
bind = Super,       period, viewtoright,             0
bind = Super+Shift, period, viewtoright_have_client, 0
bind = Super+Ctrl,  period, tagtoright,              0

bind = Super, 1, view, 1, 0
bind = Super, 2, view, 2, 0
bind = Super, 3, view, 3, 0
bind = Super, 4, view, 4, 0
bind = Super, 5, view, 5, 0
bind = Super, 6, view, 6, 0
bind = Super, 7, view, 7, 0
bind = Super, 8, view, 8, 0
bind = Super, 9, view, 9, 0

# Replace tag with tagsilent to not focus it
bind = Super+Shift, 1, tag, 1, 0
bind = Super+Shift, 2, tag, 2, 0
bind = Super+Shift, 3, tag, 3, 0
bind = Super+Shift, 4, tag, 4, 0
bind = Super+Shift, 5, tag, 5, 0
bind = Super+Shift, 6, tag, 6, 0
bind = Super+Shift, 7, tag, 7, 0
bind = Super+Shift, 8, tag, 8, 0
bind = Super+Shift, 9, tag, 9, 0

# Move floating windows
bind = Super+Alt, Up,    movewin, +0,-50
bind = Super+Alt, Down,  movewin, +0,+50
bind = Super+Alt, Left,  movewin, -50,+0
bind = Super+ALt, Right, movewin, +50,+0

# Resize windows
bind = Super+Ctrl, Up,    resizewin, +0, -50
bind = Super+Ctrl, Down,  resizewin, +0, +50
bind = Super+Ctrl, Left,  resizewin, -50,+0
bind = Super+Ctrl, Right, resizewin, +50,+0

# Media keys
bind = None, Print, spawn, screenshot.sh
bind = Super, Print, spawn_shell, QT_QPA_PLATFORM=xcb flameshot gui

bind = None,  XF86AudioRaiseVolume, spawn, volume.sh 5%+
bind = None,  XF86AudioLowerVolume, spawn, volume.sh 5%-
bind = None,  XF86AudioMute,        spawn, volume.sh toggle
bind = Super, XF86AudioRaiseVolume, spawn, volume.sh 5%+ mic
bind = Super, XF86AudioLowerVolume, spawn, volume.sh 5%- mic
bind = Super, XF86AudioMute,        spawn, volume.sh toggle mic

bindl = None, XF86AudioPlay, spawn, playerctl play-pause
bindl = None, XF86AudioNext, spawn, playerctl next
bindl = None, XF86AudioPrev, spawn, playerctl previous

bind = None, XF86Calculator, spawn_shell, $TERMINAL --title 'Floating Terminal' -e python

# Mouse button bindings
mousebind = Super, btn_left,  moveresize, curmove
mousebind = Super, btn_right, moveresize, curresize

# Scroll wheel bindings
axisbind = Super, Up,   viewtoleft_have_client
axisbind = Super, Down, viewtoright_have_client

# Window rules
windowrule = isfloating:1, appid:(.*pavucontrol|nm-connection-editor|steam)
windowrule = isfloating:1, width:900, height:700, title:Floating Terminal

# layer rule
layerrule = animation_type_open:slide, layer_name:notifications
layerrule = animation_type_close:slide, layer_name:notifications

